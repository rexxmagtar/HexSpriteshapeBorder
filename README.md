# HexSpriteshapeBorder

В игре присутствует гексогональная сетка, со вписанными туда игровыми объектами. Было необходимо пометить ячейки сетки, которые лежат на границах SpriteShape. Для этого я разработал итерационный алгоритм осуществляющий трассировку по граничным ячейкам сетки. Так же было необходимо решить задачу определения находится ли указанная ячейка внутри Edge collider того же SpriteShape. Для этого был написан алгоритм трассировки Raycast2D луча. 


## Алгоритм

### Покрытие границ SpriteShape

1. Трассировка начинается с граничной точки edge collider указаного SpriteShape
2. Выбирается текущий отрезок edge collider выходящий из текущей точки или ближайшей к ней (ориентация берется слева на право в порядке указанном в списке всех точек edge collider)
3. По текущему отрезку происходит трассировка с целью поиска пересечений отрезка с границей какой либо ячейки гексогональной сетки
4. В качестве текущей точки берется последняя точка из всех найденных пересечений и алгоритм возвращается к шагу 2



Пример работы алгоритма:  
![image](https://user-images.githubusercontent.com/51932532/137633298-1e22d332-0ea8-4a23-87eb-eeebc6581675.png)

### Определение находится ли точка A внутри замкнутого EdgeCollider2D
1. Выбирается точка B вне edge collider
2. Происходит трассировка Raycast луча из точки A в B
3. Считается количество пересечений луча с границами edge collider
4. Если количество пересечений нечётно - значит точка А находится внутри edge collider, иначе нет.

Пример работы алгоритма




Пример работы:  
![image](https://user-images.githubusercontent.com/51932532/137633121-4a1fde52-80f4-4e32-854c-0ed3a9253153.png)
